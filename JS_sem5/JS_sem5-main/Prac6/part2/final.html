<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Resume Data Extractor</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f9f9f9;
            color: #333;
        }
        .container {
            max-width: 800px;
            margin: auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        h1, h3 {
            color: #0056b3;
        }
        textarea {
            width: 100%;
            height: 200px;
            margin-bottom: 10px;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-family: monospace;
        }
        button {
            padding: 10px 15px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #0056b3;
        }
        pre {
            background-color: #e9ecef;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 4px;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: 'Courier New', Courier, monospace;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Smart Resume Data Extractor</h1>
        <p>Paste your raw resume text below and click "Process Resume".</p>
        
        <textarea id="resumeInput" placeholder="Paste resume text here...">
Name: jOhN doE
Email: john.doe@Example.com
Phone: 9876543210
Skills: HTML, CSS, JavaScript, Python, SQL
Extra: Contact me at john.altmail@example.org
#developer #coder
</textarea>
        <br>
        <button onclick="processAndDisplayResume()">Process Resume</button>
    
        <h3>Processed Data:</h3>
        <pre id="output"></pre>
    </div>

<script>
    // 1. Format Name
    function formatName(rawName) {
      const words = rawName.trim().split(/\s+/);
      const formattedWords = words.map(word => {
        if (word.length === 0) return '';
        return word.charAt(0).toUpperCase() + word.slice(1).toLowerCase();
      });
      return formattedWords.join(' ');
    }

    // 2. Extract and Validate Emails
    function extractEmails(text) {
      const emailRegex = /[\w.-]+@([\w-]+\.)+[\w-]{2,}/g;
      const emails = text.toLowerCase().match(emailRegex);
      return emails || [];
    }

    // 3. Validate Mobile Number
    function validateMobile(number) {
      const mobileRegex = /^[6-9]\d{9}$/;
      if (mobileRegex.test(number)) {
        return number;
      }
      return "Invalid phone number";
    }

    // 4. Process Skills
    function processSkills(rawSkills) {
      return rawSkills.split(',').map(skill => skill.trim());
    }

    // 5. Extract Hashtags
    function extractHashtags(text) {
      const hashtagRegex = /#\w+/g;
      const hashtags = text.match(hashtagRegex);
      return hashtags || [];
    }

    // 6. Word Count
    function countWords(text) {
      const words = text.trim().split(/\s+/).filter(word => word.length > 0);
      return words.length;
    }

    // 7. Vowel Count
    function countVowels(text) {
      const vowels = text.toLowerCase().match(/[aeiou]/g);
      return vowels ? vowels.length : 0;
    }

    // Main Program Logic
    function processResume(resumeText) {
      const output = {};
      const lines = resumeText.split('\n');
      
      const findLineContent = (label) => {
        const line = lines.find(l => l.trim().startsWith(label));
        return line ? line.split(':')[1].trim() : '';
      };
      
      const rawName = findLineContent('Name:');
      output.name = formatName(rawName);

      const emails = extractEmails(resumeText);
      output.email = emails[0] || '';
      output.emailCount = emails.length;

      const rawPhone = findLineContent('Phone:');
      output.phone = validateMobile(rawPhone);

      const rawSkills = findLineContent('Skills:');
      output.skills = processSkills(rawSkills);

      output.hashtags = extractHashtags(resumeText);
      output.wordCount = countWords(resumeText);
      output.vowelCount = countVowels(resumeText);

      return output;
    }

    // Function to link HTML and JS, now with a custom output format
    function processAndDisplayResume() {
      const resumeText = document.getElementById('resumeInput').value;
      const processedData = processResume(resumeText);
      
      // Build the formatted string
      let formattedOutput = '';
      formattedOutput += `● Name → ${processedData.name}\n`;
      formattedOutput += `● ${processedData.emailCount} emails extracted\n`;
      formattedOutput += `● Phone → "${processedData.phone}"\n`;
      formattedOutput += `● Skills → [${processedData.skills.map(s => `"${s}"`).join(', ')}]\n`;
      formattedOutput += `● Hashtags → [${processedData.hashtags.map(h => `"${h}"`).join(', ')}]\n`;
      formattedOutput += `● Word Count → ${processedData.wordCount}\n`;
      formattedOutput += `● Vowel Count → ${processedData.vowelCount}`;

      // Display the formatted string in the <pre> tag
      const outputElement = document.getElementById('output');
      outputElement.textContent = formattedOutput;
    }
</script>

</body>
</html>